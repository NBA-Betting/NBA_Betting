<!DOCTYPE html>
<html lang="en-US">

<head>
    <link rel="canonical" href="https://nba-betting.us/" />
    <title>NBA Betting</title>
    <meta name="description"
        content="Creating a comprehensive and profitable system for predicting the outcomes of NBA games." />

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Jekyll v3.9.3" />
    <meta property="og:title" content="NBA Betting" />
    <meta property="og:locale" content="en_US" />
    <meta property="og:description"
        content="Creating a comprehensive and profitable system for predicting the outcomes of NBA games." />
    <meta property="og:url" content="https://nba-betting.us/" />
    <meta property="og:site_name" content="NBA Betting" />
    <meta property="og:type" content="website" />
    <meta name="twitter:card" content="summary" />
    <meta property="twitter:title" content="NBA Betting" />
    <script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebSite","description":"Creating a comprehensive and profitable system for predicting the outcomes of NBA games.","headline":"NBA_Betting","name":"NBA_Betting","url":"https://nba-betting.us/"}</script>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

    <!-- CSS -->
    <link rel="stylesheet" href="style.css">

    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-4FQLC381CB"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-4FQLC381CB');
    </script>

    <!-- Favicon -->
    <link rel="shortcut icon" type="image/x-icon" href="images/bball_favicon.png" />

</head>

<body id="top">
    <!-- Header -->
    <nav class="navbar navbar-expand-md navbar-light bg-white fixed-top shadow-sm">
        <div class="container-md d-flex justify-content-between align-items-center">
            <a class="navbar-brand d-flex align-items-center" href="#top">
                <!-- Use Bootstrap's width utilities to control image size responsively -->
                <img src="images/bball_favicon.png" alt="Logo" class="d-inline-block align-middle"
                    style="height: 2rem; width: auto;">
                <span class="h1 mb-0 ms-2 align-middle" style="line-height: 1; font-size: 2rem;">NBA Betting</span>
            </a>
            <div class="github-branding">
                <a href="https://github.com/NBA-Betting/NBA_Betting" target="_blank" rel="noopener noreferrer"
                    class="d-flex align-items-center text-dark text-decoration-none">
                    <img src="images/GitHub_Logo.png" alt="GitHub Name" class="img-fluid me-2"
                        style="height: 2rem; width: auto;">
                    <img src="images/github-mark.png" alt="GitHub Icon" class="img-fluid"
                        style="height: 2rem; width: auto;">
                </a>
            </div>
        </div>
    </nav>

    <!-- Content -->
    <div class="container-md body-content">

        <!-- Header Image -->
        <div class="container-md">
            <img src="images/nba_betting_header_15x6.png" alt="Header Image" class="img-fluid"
                style="width: 100%; height: auto;">
        </div>

        <div class="alert alert-primary container-md my-2" role="alert">
            <strong>Two approaches to NBA prediction:</strong><br><br>
            <strong>This project (NBA Betting)</strong> focuses on <em>data collection</em>—aggregating multiple sources where signal comes from combining many weak predictors. Modeling uses AutoML.<br><br>
            <strong><a href="https://nba-ai.us" class="alert-link" target="_blank" rel="noopener noreferrer">NBA AI</a></strong> focuses on <em>modeling architecture</em>—using minimal primary data (play-by-play) with a custom model.<br><br>
            Active development has moved to <a href="https://nba-ai.us" class="alert-link" target="_blank" rel="noopener noreferrer">NBA AI</a>.
        </div>

        <!-- Table of Contents -->
        <div class="container-md my-4">
            <h2 id="table-of-contents">Table of Contents</h2>
            <div class="list-group">
                <a class="list-group-item list-group-item-action" href="#introduction"><strong>Introduction</strong></a>
                <div class="list-group list-group-flush ml-3">
                    <a class="list-group-item list-group-item-action" href="#project-goal">• Project Goal</a>
                    <a class="list-group-item list-group-item-action" href="#motivation">• Motivation</a>
                    <a class="list-group-item list-group-item-action" href="#plan">• Plan</a>
                </div>
                <a class="list-group-item list-group-item-action" href="#current-goal"><strong>Current Goal: Point Spread Prediction</strong></a>
                <a class="list-group-item list-group-item-action" href="#project-structure"><strong>Project Structure</strong></a>
                <div class="list-group list-group-flush ml-3">
                    <a class="list-group-item list-group-item-action" href="#data-sourcing-and-storage">• Data Sourcing and Storage</a>
                    <a class="list-group-item list-group-item-action" href="#data-prep-and-feature-engineering">• Data Prep and Feature Engineering</a>
                    <a class="list-group-item list-group-item-action" href="#exploratory-data-analysis">• Exploratory Data Analysis</a>
                    <a class="list-group-item list-group-item-action" href="#modeling">• Modeling</a>
                    <a class="list-group-item list-group-item-action" href="#bet-decisions">• Bet Decisions</a>
                    <a class="list-group-item list-group-item-action" href="#web-app-and-dashboard">• Web App and Dashboard</a>
                </div>
                <a class="list-group-item list-group-item-action" href="#quick-start"><strong>Quick Start</strong></a>
            </div>
        </div>

        <!-- Introduction -->
        <div class="container my-5">
            <h1 id="introduction">Introduction</h1>

            <h2 id="project-goal">Project Goal</h2>
            <p>Create a <strong>Comprehensive</strong> and <strong>Profitable</strong> System for Predicting the
                <strong>Outcomes</strong> of NBA Games.
            </p>

            <h4>Comprehensive Approach</h4>
            <p>Under the 'comprehensive' aspect, the project will explore and test multiple plausible prediction methods,
                ensuring an evolving scope and prioritization based on the utility of the results.</p>

            <h4>Profitability Focus</h4>
            <p>The 'profitable' aspect aims to generate actionable insights for profitable betting decisions.</p>

            <h4>Broad Definition of Outcomes</h4>
            <p>Initially, the project will focus on predicting the final score margins. In its long-term vision, it could
                expand to cover other betting domains like over/under and player props, embracing a broad definition of
                'outcomes'.</p>

            <h2 id="motivation">Motivation</h2>
            <p>NBA betting uniquely aligns with my interests, knowledge, skills, and goals.</p>

            <ul>
                <li><strong>NBA Enthusiast:</strong> Following the NBA since 2015, with particular interest in the analytical and financial aspects of the game.</li>
                <li><strong>Data Science Career:</strong> Focused on practical application, leveraging tools like AutoML for efficient solutions.</li>
                <li><strong>Sports Analytics Enthusiast:</strong> A lifelong interest in sports analytics, from baseball statistics to managing simulated sports leagues.</li>
                <li><strong>Investment Background:</strong> Finance education combined with experience applying financial concepts to emerging markets like sports betting.</li>
            </ul>

            <h2 id="plan">Plan</h2>
            <p>How do we predict the outcome of an NBA game? From a data science viewpoint, the challenge lies in identifying the optimal
                feature set and designing an effective model architecture.</p>

            <p>The vast amount of public data available for NBA games is both a blessing and a challenge: the options are plentiful, but selecting the right ones and managing them
                effectively is crucial.</p>

            <h3 id="prediction-frameworks">Prediction Frameworks</h3>
            <p>NBA game predictions can be approached at multiple levels, each functioning independently or as part of a
                higher-level framework:</p>

            <ol>
                <li><strong>Player Prediction Framework:</strong> Focuses on individual player performance, aiming to quantify a player's quality. A simple example is estimating a team's score by summing up the players' average points per game.</li>

                <li><strong>Player Interaction and Synergy Framework:</strong> Centers on how players perform in various combinations on the court—how certain player pairings or lineup compositions affect overall team performance.</li>

                <li><strong>Team Prediction Framework:</strong> The conventional level for predicting game outcomes, asking how one team compares to another given an even setting.</li>

                <li><strong>Game Prediction Framework:</strong> Includes all factors that could impact game results: game location, referee decisions, schedule effects (back-to-back games, travel, rest days), coaching styles, betting trends, line movements, and player availability.</li>
            </ol>

            <h3 id="data-points">Data Points</h3>
            <p>Data acquisition is complicated by the time series nature of sports data. Predictive metrics vary in utility based on the timeframe considered—team history, season-to-date stats, recent performance, or data from the last game. ML models require point-in-time data, which poses challenges in terms of availability and structuring.</p>

            <p><small>See also: <a href="https://github.com/NBA-Betting/NBA_Betting/discussions/52" target="_blank" rel="noopener noreferrer">GitHub Discussion - Frameworks and Data Sourcing</a></small></p>

            <div class="table-responsive">
                <table class="table">
                    <thead>
                        <tr>
                            <th scope="col">Raw Data</th>
                            <th scope="col">Traditional Statistics</th>
                            <th scope="col">Advanced Statistics</th>
                            <th scope="col">Subjective</th>
                            <th scope="col">Other</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <ul>
                                    <li>Play by Play Logs</li>
                                    <li>Game Video</li>
                                    <li>Camera Tracking</li>
                                </ul>
                            </td>
                            <td>
                                <ul>
                                    <li>Box Scores</li>
                                    <li>Points, Rebounds, Assists</li>
                                    <li>Win Loss Records</li>

                                </ul>
                            </td>
                            <td>
                                <ul>
                                    <li>EPM</li>
                                    <li>PER</li>
                                    <li>RAPTOR</li>
                                </ul>
                            </td>
                            <td>
                                <ul>
                                    <li>Power Rankings</li>
                                    <li>NBA2k Ratings</li>
                                    <li>Social Media Sentiment</li>
                                </ul>
                            </td>
                            <td>
                                <ul>
                                    <li>Schedule Effects</li>
                                    <li>Injuries</li>
                                    <li>Referees</li>
                                </ul>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Current Goal -->
        <div class="container my-5">
            <h1 id="current-goal">Current Goal: Point Spread Prediction</h1>
            <p>The project focuses on predicting point spreads using team-level statistics. This is the most common betting market and provides a clear benchmark.</p>

            <p>Vegas lines predict game winners and margins with an average miss of ~9 points per game. The graph below shows this discrepancy over time.</p>

            <img src="images/vegas_miss_abs.png" alt="Vegas Miss" class="img-fluid custom-image mx-auto">

            <p>Vegas sets a high bar—they have extensive resources and data. The public Vegas lines also serve as both a benchmark and a feature for modeling.</p>
        </div>

        <!-- Project Structure -->
        <div class="container my-5">
            <h1 id="project-structure">Project Structure</h1>
            <p>The project is built around a SQLite database with data processing, feature engineering, model training, and prediction pipelines. A Flask web app and Dash dashboard provide the interface.</p>

            <img src="images/daily_update_data_flow_diagram.png" alt="Data Flow Diagram"
                class="img-fluid custom-image mx-auto">
            <p><em>Note: This diagram reflects an earlier version of the project. See <a href="https://github.com/NBA-Betting/NBA_Betting/blob/main/ARCHITECTURE.md" target="_blank" rel="noopener noreferrer">ARCHITECTURE.md</a> for the current implementation.</em></p>
        </div>


        <!-- Data Sourcing and Storage -->
        <div class="container my-5">
            <h2 id="data-sourcing-and-storage">Data Sourcing and Storage</h2>
            <p>Data collection is the most time-intensive part of the project. The data falls into three categories:</p>
            <ol>
                <li><strong>Game Data:</strong> Dates, times, teams, and scores of games.</li>
                <li><strong>Betting Market Data:</strong> Betting lines and odds.</li>
                <li><strong>Feature Data:</strong> Statistics and metrics used for predictions.</li>
            </ol>
            <p>While acquiring current data is relatively straightforward, the real challenge lies in sourcing historical data for training and testing models.</p>

            <img src="images/data_engineering_flowchart_1.png" alt="Data Sourcing and Storage"
                class="img-fluid mx-auto custom-image" />
            <p><em>Note: This diagram reflects an earlier version. See <a href="https://github.com/NBA-Betting/NBA_Betting/blob/main/ARCHITECTURE.md" target="_blank" rel="noopener noreferrer">ARCHITECTURE.md</a> for current data sources.</em></p>
        </div>


        <!-- Data Prep and Feature Engineering -->
        <div class="container my-5">
            <h2 id="data-prep-and-feature-engineering">Data Prep and Feature Engineering</h2>

            <img src="images/data_engineering_flowchart_2.png" alt="ETL" class="img-fluid mx-auto custom-image" />
            <p><em>Note: This diagram reflects an earlier version. See <a href="https://github.com/NBA-Betting/NBA_Betting/blob/main/ARCHITECTURE.md" target="_blank" rel="noopener noreferrer">ARCHITECTURE.md</a> for current ETL details.</em></p>

            <p>The ETL pipeline prepares data for modeling. The main steps:</p>
            <ol>
                <li><strong>Loading Data:</strong> Retrieval of data from games and raw features tables.</li>
                <li><strong>Initial Feature Engineering:</strong> Adjusting raw metrics before merging, like
                    transforming points per game into relative league averages and rankings.</li>
                <li><strong>Merging Data:</strong> Combining games and feature data into a single record for each
                    game, with a unique game_id as the primary key.</li>
                <li><strong>Post-Merge Feature Engineering:</strong> Creating game-level features after merging,
                    such as differences in team statistics or rest days.</li>
                <li><strong>Saving Records:</strong> Storing each game's data as a record in the all_features_json
                    table, which includes a game_id and a JSON object with all features for that game.</li>
            </ol>

            <p>Important considerations:</p>
            <ul>
                <li>The all_features_json table integrates an extensive feature list into a relational database framework, converted to a DataFrame for processing.</li>
                <li>Avoiding data leakage is critical—meticulously manage dates for data merging (e.g., using the previous day's data) and calculate rolling features based on correct historical games.</li>
            </ul>
        </div>


        <!-- Exploratory Data Analysis -->
        <div class="container my-5">
            <h2 id="exploratory-data-analysis">Exploratory Data Analysis</h2>

            <h3 id="vegas-spread-accuracy">Vegas Spread Accuracy</h3>
            <p>Analysis of Vegas spread accuracy across ~23,000 games from 2006-2026 shows the average miss has increased over time—from 9.12 points in the Traditional Era (2006-2016) to 10.49 points in the Modern Variance era (2020-2026). This trend coincides with the three-point revolution and increased game-to-game variance in the NBA.</p>

            <img src="images/vegas_miss_statistics.png" alt="Vegas Miss Statistics"
                class="img-fluid mx-auto custom-image" />

            <p>Postseason games show slightly higher prediction error (~10.18 points) compared to regular season (~9.64 points), likely due to smaller sample sizes and higher-stakes adjustments.</p>

            <img src="images/vegas_miss_by_week.png" alt="Vegas Miss by Week" class="img-fluid mx-auto custom-image" />
        </div>


        <!-- Modeling -->
        <div class="container my-5">
            <h2 id="modeling">Modeling</h2>

            <p>Two approaches are explored: AutoML for quick iteration on tabular data, and a custom architecture for time-series modeling (see <a href="https://github.com/NBA-Betting/NBA_AI" target="_blank" rel="noopener noreferrer">NBA AI</a>).</p>

            <h3 id="automl">AutoML</h3>

            <p>The project uses <a href="https://auto.gluon.ai/" target="_blank" rel="noopener noreferrer">AutoGluon</a>
                for automated machine learning. AutoGluon trains and ensembles multiple models, handling feature engineering and hyperparameter tuning automatically.</p>

            <img src="images/autogluon_logo.png" alt="AutoGluon Logo" class="img-fluid mx-auto custom-image" />

            <img src="images/cls_model_accuracy.png" alt="Classification Model Accuracy"
                class="img-fluid mx-auto custom-image" />

            <p>Consistently outperforming Vegas lines remains a challenge. This is not unexpected given the complexity of the task and the additional hurdle of overcoming the vig (the bookmaker's charge).</p>
        </div>


        <div class="container my-5">
            <h3 id="custom-model-architecture">Custom Model Architecture</h3>
            <p>The journey towards a custom model architecture initially centered around a traditional data science
                approach – combining various features from different sources. While this approach aligns with
                conventional methods and may still hold potential, it faces several challenges, including complex
                data collection and potentially mirroring the algorithms used by line setters. To move beyond these
                limitations and add an element of innovation, I am exploring a second approach, which includes the
                following key requirements:</p>
            <img src="images/custom_model_requirements.png" alt="Custom Model Requirements"
                class="img-fluid custom-image mx-auto">

            <ul>
                <li><strong>Time Series Data Inclusive:</strong> A focus on incorporating the sequential nature of
                    events in games and across seasons, recognizing the significance of order and timing in the NBA.</li>
                <li><strong>Minimal Data Collection:</strong> Streamlining data sourcing to the essentials, aiming
                    for maximum impact with minimal data, thereby reducing time and resource investment.</li>
                <li><strong>Wider Applicability:</strong> Extending the scope to cover more comprehensive outcomes,
                    moving beyond standard predictions like point spreads or over/unders.</li>
                <li><strong>Advanced Modeling System:</strong> Developing a system that is not only a learning tool
                    but also potentially novel compared to the methods used by odds setters.</li>
                <li><strong>Minimal Human Decisions:</strong> Reducing the reliance on human decision-making to
                    minimize errors and the limitations of individual expertise.</li>
            </ul>

            <h4>Go check out this new approach in my project <a href="https://github.com/NBA-Betting/NBA_AI"
                    target="_blank" rel="noopener noreferrer">NBA AI</a>.</h4>
        </div>

    <!-- Bet Decisions -->
    <div class="container my-5">
        <h2 id="bet-decisions">Bet Decisions</h2>

        <p>This section applies model predictions to betting decisions. The process combines model outputs with current betting lines to identify potential value bets.</p>

        <p>A simple bankroll management module tracks bet sizing and account balance using Kelly Criterion principles.</p>

        <img src="images/bet_decisions.png" alt="Bet Decisions" class="img-fluid mx-auto custom-image" />
    </div>


    <!-- Web App and Dashboard -->
    <div class="container my-5">
        <h2 id="web-app-and-dashboard">Web App and Dashboard</h2>

        <p>A Flask web app displays games and predictions. The Dash dashboard shows betting performance metrics.</p>

        <div class="row mb-4">
            <div class="col-md-6 mb-1">
                <div class="aspect-ratio-box">
                    <img src="images/web_app.png" alt="Home Page" class="img-fluid border border-grey" />
                </div>
            </div>
            <div class="col-md-6">
                <div class="aspect-ratio-box">
                    <img src="images/dashboard.png" alt="Dashboard" class="img-fluid border border-grey" />
                </div>
            </div>
        </div>
    </div>

    <!-- Quick Start -->
    <div class="container my-5">
        <h1 id="quick-start">Quick Start</h1>

        <div class="alert alert-warning" role="alert">
            <strong>Project Status:</strong> This project is on hiatus and not actively maintained. It may require minor bug fixes to run. Feel free to <a href="https://github.com/NBA-Betting/NBA_Betting/issues" class="alert-link">open an issue</a> if you encounter problems—I monitor issues periodically.
        </div>

        <div class="alert alert-danger" role="alert">
            <strong>API Rate Limits:</strong> The data pipeline calls the NBA Stats API, which has rate limits. Daily updates are fine, but full season backfills can take hours and make many API requests. Please be respectful of the API. Check the <a href="https://github.com/NBA-Betting/NBA_Betting/releases" class="alert-link">Releases</a> page for pre-collected data to reduce API usage.
        </div>

        <pre><code># Clone the repository
git clone https://github.com/NBA-Betting/NBA_Betting.git
cd NBA_Betting

# Create virtual environment
python -m venv .venv
source .venv/bin/activate  # On Windows: .venv\Scripts\activate

# Install dependencies (choose one)
pip install -e ".[all]"    # Full install with ML, web app, and dev tools
pip install -e "."         # Core only (data collection and ETL)
pip install -e ".[ml]"     # Core + AutoGluon for modeling
pip install -e ".[web]"    # Core + Flask/Dash web app

# Set up environment variables
cp .env.example .env
# Edit .env with your ODDS_API_KEY (optional, for live odds)

# Run the data pipeline
python update_data.py

# Launch the web app
python start_app.py</code></pre>

        <h3>Data Pipeline</h3>
        <p>The <code>update_data.py</code> script runs the full pipeline: data collection → ETL → predictions.</p>
        <pre><code>python update_data.py                    # Daily update (yesterday/today/tomorrow)
python update_data.py --season 2024      # Backfill full season
python update_data.py --date 2025-01-15  # Fix specific date
python update_data.py --collect-only     # Skip ETL and predictions</code></pre>
    </div>

    </div>
    <!-- Bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>

    <script>
        var navbarHeight = document.querySelector('.navbar').offsetHeight;
        document.querySelector('.body-content').style.paddingTop = navbarHeight + 'px';
    </script>

</body>

</html>